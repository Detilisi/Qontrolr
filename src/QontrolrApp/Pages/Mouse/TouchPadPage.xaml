<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="QontrolrApp.Pages.Mouse.TouchPadPage"
             Shell.NavBarIsVisible="True"
             BackgroundColor="#F5F5F5"
             Title="Touch Pad">

    <ContentPage.Resources>
        <!-- Shared Styles -->
        <Style TargetType="Frame" x:Key="ShadowedFrameStyle">
            <Setter Property="CornerRadius" Value="0"/>
            <Setter Property="BackgroundColor" Value="White"/>
            <Setter Property="HasShadow" Value="True"/>
            <Setter Property="Padding" Value="0"/>
        </Style>

        <Style TargetType="BoxView" x:Key="TouchpadButtonStyle">
            <Setter Property="HeightRequest" Value="50"/>
            <Setter Property="HorizontalOptions" Value="Fill"/>
            <Setter Property="BackgroundColor" Value="#E0E0E0"/>
        </Style>
    </ContentPage.Resources>

    <Grid RowDefinitions="*, Auto"
          Padding="5"
          BackgroundColor="#EDEDED">

        <!-- Touch Pad Area -->
        <Grid Grid.Row="0"
              Padding="10"
              ColumnDefinitions="*, Auto"
              ColumnSpacing="0">
            <!-- Touch Pad -->
            <Frame Style="{StaticResource ShadowedFrameStyle}" Grid.Column="0">
                <GraphicsView 
                    x:Name="TouchPadView"
                    BackgroundColor="#FAFAFA"
                    HorizontalOptions="Fill"
                    VerticalOptions="Fill"/>
            </Frame>

            <!-- Mouse Wheel -->
            <Frame Style="{StaticResource ShadowedFrameStyle}" Grid.Column="1"
                   WidthRequest="50">
                <Label Text="â‡…"
                       HorizontalOptions="Center"
                       VerticalOptions="Center"
                       FontSize="32"
                       TextColor="#4A4A4A"/>
                <Frame.GestureRecognizers>
                    <PanGestureRecognizer PanUpdated="PanGestureRecognizer_PanUpdated"/>
                </Frame.GestureRecognizers>
            </Frame>
        </Grid>

        <!-- Control Buttons -->
        <Grid Grid.Row="1"
              ColumnDefinitions="*, Auto, *"
              HeightRequest="60"
              Padding="10,0,10,0">

            <!-- Left Click -->
            <Frame Grid.Column="0"
                   BorderColor="#D0D0D0"
                   BackgroundColor="White"
                   CornerRadius="0"
                   HasShadow="False"
                   Padding="0">
                <Button BackgroundColor="Transparent"
                        Clicked="OnLeftClick"/>
            </Frame>

            <!-- Middle Click -->
            <Frame Grid.Column="1"
                   BorderColor="#D0D0D0"
                   BackgroundColor="White"
                   CornerRadius="0"
                   HasShadow="False"
                   Padding="0">
                <Button BackgroundColor="Transparent"
                        Clicked="OnMiddleClick"/>
            </Frame>

            <!-- Right Click -->
            <Frame Grid.Column="2"
                   BorderColor="#D0D0D0"
                   BackgroundColor="White"
                   CornerRadius="0"
                   HasShadow="False"
                   Padding="0">
                <Button BackgroundColor="Transparent"
                        Clicked="OnRightClick"/>
            </Frame>
        </Grid>
    </Grid>
</ContentPage>
